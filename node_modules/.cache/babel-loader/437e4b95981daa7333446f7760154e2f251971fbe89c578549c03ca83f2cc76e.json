{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\Telegram Desktop\\\\newCha1t\\\\newChat\\\\newChat\\\\chathindchat\\\\src\\\\conversation\\\\Conversation.js\",\n  _s = $RefreshSig$();\nimport './Style.css';\nimport React, { useState, useEffect, useContext, useRef } from 'react';\nimport { onValue, push, ref, set } from 'firebase/database';\nimport { db } from '../firebase/Firebase';\nimport { ThemeContext } from '../themeContext/ThemeContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Conversation(props) {\n  _s();\n  const {\n    amiss,\n    nomchat,\n    prenomchat,\n    idchat,\n    imagechat,\n    userid,\n    usernom,\n    userprenom,\n    photo,\n    idwith\n  } = useContext(ThemeContext);\n  const [msgg, setmsg] = useState(\"\");\n  const [conversation, setconvertation] = useState([]);\n  const initialized = React.useRef(false);\n  const [users, setusers] = useState([]);\n  var [meid, setmeid] = useState(\"\");\n  const addmsg = id => {\n    const user = localStorage.getItem('userid');\n    var tabinvity = [];\n    var tabinvityo = [];\n\n    //console.log(users)\n\n    var conversamis = users.map(itemy => {\n      if (itemy.id == user) {\n        var addmsg = itemy.discussion.map((t, key) => {\n          if (key > 0) {\n            //alert(\"hiiiiiiiiiiiiii\")\n            if (t.avecqui.id == id) {\n              const currentDate = new Date();\n\n              // Extract year, month, and day\n              const year = currentDate.getFullYear();\n              // JavaScript months are zero-based, so we add 1 to get the correct month\n              const month = ('0' + (currentDate.getMonth() + 1)).slice(-2);\n              const day = ('0' + currentDate.getDate()).slice(-2);\n\n              // Form the yyyy-mm-dd string\n              const formattedDate = `${year}-${month}-${day}`;\n              const hours = ('0' + currentDate.getHours()).slice(-2);\n              const minutes = ('0' + currentDate.getMinutes()).slice(-2);\n\n              // Form the hh:mm string\n              const formattedTime = `${hours}:${minutes}`;\n              return {\n                ...t,\n                msg: [...t.msg, {\n                  contenu: msgg,\n                  parqui: user,\n                  date: formattedDate,\n                  time: formattedTime,\n                  etat: 'false'\n                }]\n              };\n            } else {\n              return t;\n            }\n          }\n          return t;\n        });\n        return {\n          ...itemy,\n          discussion: addmsg\n        };\n      }\n      return itemy;\n    });\n    console.log(\"-----------seen------------------\");\n    console.log(conversamis);\n    const dataRefamis = ref(db, 'users');\n    set(dataRefamis, conversamis);\n    var conversamis2 = conversamis.map(itemy => {\n      if (itemy.id == id) {\n        var addmsg = itemy.discussion.map((t, key) => {\n          if (key > 0) {\n            if (t.avecqui.id == user) {\n              const currentDate = new Date();\n\n              // Extract year, month, and day\n              const year = currentDate.getFullYear();\n              // JavaScript months are zero-based, so we add 1 to get the correct month\n              const month = ('0' + (currentDate.getMonth() + 1)).slice(-2);\n              const day = ('0' + currentDate.getDate()).slice(-2);\n\n              // Form the yyyy-mm-dd string\n              const formattedDate = `${year}-${month}-${day}`;\n              const hours = ('0' + currentDate.getHours()).slice(-2);\n              const minutes = ('0' + currentDate.getMinutes()).slice(-2);\n              const formattedTime = `${hours}:${minutes}`;\n              return {\n                ...t,\n                msg: [...t.msg, {\n                  contenu: msgg,\n                  parqui: user,\n                  date: formattedDate,\n                  time: formattedTime,\n                  etat: 'false'\n                }]\n              };\n            } else {\n              return t;\n            }\n          }\n          return t;\n        });\n        return {\n          ...itemy,\n          discussion: addmsg\n        };\n      }\n      return itemy;\n    });\n    const dataRefamis2 = ref(db, 'users');\n    set(dataRefamis2, conversamis2);\n    setmsg('');\n    console.log(conversamis2);\n  };\n  useEffect(() => {\n    //  if (!initialized.current) {\n\n    initialized.current = true;\n    setusers(prev => []);\n    getdata();\n    seen();\n    const Userid = localStorage.getItem('userid');\n    setmeid(Userid);\n\n    //  }\n  }, [props.interloprenom]);\n\n  /*********************************************88 */\n  const seen = async () => {\n    const user = localStorage.getItem('userid');\n    console.log(\"-----------seen------------------\");\n    console.log(idwith + \" \" + user);\n    var conversamis = users.map(itemy => {\n      if (itemy.id == user) {\n        console.log(\"discus\");\n        itemy.discussion.map((t, key) => {\n          if (key > 0) {\n            console.log(t.avecqui.id);\n            if (t.avecqui.id == idwith) {\n              console.log(\"msg\");\n              console.log(t.msg);\n              t.msg.map((r, index) => {\n                console.log(\"parqui\");\n                console.log(r.parqui + \" \" + user);\n                if (r.parqui == user) {\n                  alert(\"belmodan\");\n                  return 1;\n                }\n              });\n            }\n          }\n          return t;\n        });\n      }\n      return itemy;\n    });\n    const dataRefamis = ref(db, 'users');\n    console.log(conversamis);\n    //set(dataRefamis,conversamis); \n\n    /*\r\n    var conversamis2 =conversamis.map((itemy) => {\r\n      if(itemy.id==id){     \r\n           var addmsg=itemy.discussion.map((t,key)=>{\r\n      if(key>0  ){  \r\n     if(t.avecqui==user){\r\n     t.msg.map((r,index)=>{\r\n     if(r.parqui==user){\r\n       return {...r,etat:true}\r\n     }\r\n     })}\r\n      }}\r\n     )}})\r\n    \r\n     set(dataRefamis,conversamis2); \r\n    */\n  };\n\n  /*****************************************************88888888*/\n\n  const getdata = async () => {\n    console.log('test');\n    const user = localStorage.getItem('userid');\n    var tabamis = [];\n    if (user != null) {\n      const query = ref(db, `users`);\n      var arrayi = [];\n      var conver = [];\n      return await onValue(query, snapshot => {\n        setusers([]);\n        console.log(\"t3awd\");\n        const data = snapshot.val();\n        var tabinvit = [];\n        Object.values(data).map(x => {\n          setusers(prev => [...prev, x]);\n          if (x.id == user) {\n            x.discussion.map((y, key) => {\n              if (key > 0) {\n                // alert(\"hada\"+y.avecqui.id+'  '+idwith)\n                if (y.avecqui.id == localStorage.getItem('avec')) {\n                  conver = y.msg;\n                }\n              }\n            });\n            console.log(\"--------------------------\");\n            console.log(conver);\n            setconvertation(conver);\n          }\n        });\n      });\n    }\n\n    /*console.log(tabamis)*/\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"chat-box-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"photoclass bg-dark\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: props.interlophoto\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\" \", props.interloprenom, \"  \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\" \", props.interlnom, \"  \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"messages \",\n        id: \"messages\",\n        children: conversation.length > 0 && conversation.map((message, index) => {\n          if (index > 0) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1\",\n              style: {\n                display: 'flex',\n                flexDirection: 'row',\n                justifyContent: message.parqui == meid ? 'flex-start' : 'flex-end'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"message-container\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"message\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: message.contenu\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 340,\n                    columnNumber: 5\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"meta-data\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      class: \"time\",\n                      children: message.time\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 342,\n                      columnNumber: 7\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      class: \"seen\",\n                      children: message.etat == \"true\" && message.parqui != userid ? \"✓\" : \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 7\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 5\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 3\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 2\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 7\n            }, this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"input-container d-flex flex-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: msgg,\n          type: \"text\",\n          id: \"messageInput\",\n          class: \"message-input\",\n          onChange: e => setmsg(e.target.value),\n          placeholder: props.interlo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"sendButton\",\n          class: \"send-button\",\n          onClick: () => {\n            addmsg(idwith);\n          },\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n}\n_s(Conversation, \"R9E9aiJ6Ssvw6UU2UfbzcMohRzo=\");\n_c = Conversation;\nexport default Conversation;\nvar _c;\n$RefreshReg$(_c, \"Conversation\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useRef","onValue","push","ref","set","db","ThemeContext","jsxDEV","_jsxDEV","Fragment","_Fragment","Conversation","props","_s","amiss","nomchat","prenomchat","idchat","imagechat","userid","usernom","userprenom","photo","idwith","msgg","setmsg","conversation","setconvertation","initialized","users","setusers","meid","setmeid","addmsg","id","user","localStorage","getItem","tabinvity","tabinvityo","conversamis","map","itemy","discussion","t","key","avecqui","currentDate","Date","year","getFullYear","month","getMonth","slice","day","getDate","formattedDate","hours","getHours","minutes","getMinutes","formattedTime","msg","contenu","parqui","date","time","etat","console","log","dataRefamis","conversamis2","dataRefamis2","current","prev","getdata","seen","Userid","interloprenom","r","index","alert","tabamis","query","arrayi","conver","snapshot","data","val","tabinvit","Object","values","x","y","children","class","src","interlophoto","fileName","_jsxFileName","lineNumber","columnNumber","interlnom","length","message","className","style","display","flexDirection","justifyContent","value","type","onChange","e","target","placeholder","interlo","onClick","_c","$RefreshReg$"],"sources":["C:/Users/HP/Downloads/Telegram Desktop/newCha1t/newChat/newChat/chathindchat/src/conversation/Conversation.js"],"sourcesContent":[" \r\nimport './Style.css'\r\nimport React, { useState, useEffect, useContext, useRef } from 'react';  \r\nimport { onValue, push, ref, set} from 'firebase/database';\r\nimport { db } from '../firebase/Firebase';\r\nimport { ThemeContext } from '../themeContext/ThemeContext';\r\nfunction Conversation(props) {\r\n  \r\n  const { amiss,nomchat,prenomchat,idchat,imagechat,userid, usernom,userprenom,photo,idwith } = useContext(ThemeContext);\r\n  const [msgg,setmsg]=useState(\"\");\r\n  const [conversation,setconvertation]=useState([]);\r\n\r\n  const initialized =React.useRef(false);\r\n\r\n  const [users,setusers]=useState([]);\r\n\r\n\r\n\r\nvar [meid,setmeid]=useState(\"\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  const  addmsg=(id)=>{\r\n   \r\n      const user = localStorage.getItem('userid');\r\n    \r\n      var tabinvity=[]\r\n      var tabinvityo=[]\r\n\r\n      //console.log(users)\r\n\r\n     var conversamis =users.map((itemy) => {\r\n        \r\n        \r\n    if(itemy.id==user){\r\n      \r\n      var addmsg=itemy.discussion.map((t,key)=>{\r\n if(key>0  ){\r\n  //alert(\"hiiiiiiiiiiiiii\")\r\n       if(t.avecqui.id==id){ \r\n\r\nconst currentDate = new Date();\r\n\r\n// Extract year, month, and day\r\nconst year = currentDate.getFullYear();\r\n// JavaScript months are zero-based, so we add 1 to get the correct month\r\nconst month = ('0' + (currentDate.getMonth() + 1)).slice(-2);\r\nconst day = ('0' + currentDate.getDate()).slice(-2);\r\n\r\n// Form the yyyy-mm-dd string\r\nconst formattedDate = `${year}-${month}-${day}`;\r\nconst hours = ('0' + currentDate.getHours()).slice(-2);\r\nconst minutes = ('0' + currentDate.getMinutes()).slice(-2);\r\n\r\n// Form the hh:mm string\r\nconst formattedTime = `${hours}:${minutes}`;\r\n\r\n      return({...t,msg:[...t.msg,{contenu:msgg,parqui:user,date:formattedDate,time:formattedTime,etat:'false'}]})\r\n  \r\n       }\r\n       else{\r\n        return t;\r\n       }\r\n    }  \r\n\r\nreturn t;\r\n\r\n        })\r\n    \r\n\r\n   return { ...itemy, discussion:addmsg};\r\n    }     \r\n      \r\n                    \r\n      \r\n            return itemy; \r\n                    \r\n          });\r\n  \r\n          console.log(\"-----------seen------------------\")\r\n      console.log(conversamis)\r\n\r\n          const dataRefamis = ref(db, 'users'); \r\n\r\n     set(dataRefamis,conversamis); \r\n          var conversamis2 =conversamis.map((itemy) => {\r\n        \r\n        \r\n              if(itemy.id==id){\r\n                var addmsg=itemy.discussion.map((t,key)=>{\r\n           if(key>0  ){\r\n        \r\n                 if(t.avecqui.id==user){ \r\n                  const currentDate = new Date();\r\n\r\n                  // Extract year, month, and day\r\n                  const year = currentDate.getFullYear();\r\n                  // JavaScript months are zero-based, so we add 1 to get the correct month\r\n                  const month = ('0' + (currentDate.getMonth() + 1)).slice(-2);\r\n                  const day = ('0' + currentDate.getDate()).slice(-2);\r\n                  \r\n                  // Form the yyyy-mm-dd string\r\n                  const formattedDate = `${year}-${month}-${day}`;\r\n                  const hours = ('0' + currentDate.getHours()).slice(-2);\r\n                  const minutes = ('0' + currentDate.getMinutes()).slice(-2);\r\n                  const formattedTime = `${hours}:${minutes}`;\r\n        \r\n                return({...t,msg:[...t.msg,{contenu:msgg,parqui:user,date:formattedDate,time:formattedTime,etat:'false'}]})\r\n            \r\n            }\r\n                else{\r\n                   return t;\r\n                }\r\n                 }\r\n              \r\n       return t;\r\n        \r\n        \r\n                  })\r\n              \r\n        \r\n        \r\n             return { ...itemy, discussion:addmsg};\r\n              }     \r\n                \r\n                              \r\n                \r\n                      return itemy; \r\n                              \r\n                    });\r\n            \r\n                    const dataRefamis2 = ref(db, 'users'); \r\n                set(dataRefamis2,conversamis2); \r\n        \r\nsetmsg('')\r\nconsole.log(conversamis2)\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(()=>{\r\n\r\n    //  if (!initialized.current) {\r\n      \r\n        initialized.current = true\r\n              setusers(prev=>[])\r\n              getdata()\r\n              seen()\r\n              const Userid =  localStorage.getItem('userid') ;\r\n              setmeid(Userid)\r\n\r\n      //  }\r\n\r\n\r\n    },[props.interloprenom])\r\n\r\n\r\n/*********************************************88 */\r\nconst seen=async()=>{\r\n  const user = localStorage.getItem('userid');\r\n  console.log(\"-----------seen------------------\");\r\n  console.log(idwith+\" \"+user)\r\n  var conversamis =users.map((itemy) => {\r\n if(itemy.id==user){  \r\n  console.log(\"discus\");\r\n  itemy.discussion.map((t,key)=>{\r\n\r\n if(key>0  ){  \r\nconsole.log(t.avecqui.id)  \r\nif(t.avecqui.id==idwith){\r\n  console.log(\"msg\");\r\n  console.log(t.msg);\r\nt.msg.map((r,index)=>{\r\n  console.log(\"parqui\");\r\n  console.log(r.parqui+\" \"+user);\r\nif(r.parqui==user){\r\n  alert(\"belmodan\")\r\nreturn 1\r\n}\r\n\r\n})}\r\n }\r\nreturn t;\r\n}\r\n\r\n)}\r\nreturn itemy;\r\n})\r\n\r\nconst dataRefamis = ref(db, 'users'); \r\n\r\n\r\nconsole.log(conversamis)\r\n//set(dataRefamis,conversamis); \r\n\r\n/*\r\nvar conversamis2 =conversamis.map((itemy) => {\r\n  if(itemy.id==id){     \r\n       var addmsg=itemy.discussion.map((t,key)=>{\r\n  if(key>0  ){  \r\n if(t.avecqui==user){\r\n t.msg.map((r,index)=>{\r\n if(r.parqui==user){\r\n   return {...r,etat:true}\r\n }\r\n })}\r\n  }}\r\n )}})\r\n\r\n set(dataRefamis,conversamis2); \r\n*/\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/*****************************************************88888888*/\r\n\r\n    const getdata=async()=>{\r\nconsole.log('test')\r\n      const user = localStorage.getItem('userid');\r\n \r\n        var tabamis=[]\r\n    if(user!=null){\r\n       \r\n      const query = ref(db, `users`);\r\n    \r\n    \r\n      var arrayi=[]\r\n      var conver=[]\r\n    \r\n\r\n      return await onValue(query, (snapshot) => {\r\n       setusers([])\r\n\r\n    \r\n      console.log(\"t3awd\")\r\n        const data = snapshot.val();\r\n      \r\n     var tabinvit=[]\r\n \r\n    \r\n    \r\n    \r\n    \r\n      Object.values(data).map((x)=>{\r\n\r\n       \r\n setusers(prev=>[...prev,x])\r\n\r\n\r\n if(x.id==user){\r\nx.discussion.map((y,key)=>{\r\n\r\nif(key>0){\r\n\r\n \r\n // alert(\"hada\"+y.avecqui.id+'  '+idwith)\r\nif(y.avecqui.id==localStorage.getItem('avec')){\r\n\r\n conver=y.msg;\r\n}}\r\n  \r\n})\r\n\r\n      \r\nconsole.log(\"--------------------------\")\r\nconsole.log(conver)\r\nsetconvertation(conver);\r\n\r\n}}\r\n\r\n\r\n)}\r\n\r\n   \r\n    \r\n)\r\n \r\n    \r\n \r\n      }      \r\n       \r\n    /*console.log(tabamis)*/}\r\n\r\n\r\n\r\n  \r\n  return (\r\n    <>\r\n   <div class=\"chat-box-container\">\r\n   <div class=\"photoclass bg-dark\">\r\n         <img src={props.interlophoto} />\r\n         <h1> {props.interloprenom}  </h1>\r\n         <h1> {props.interlnom}  </h1>\r\n        </div>\r\n    <div class=\"messages \" id=\"messages\">\r\n   \r\n    {conversation.length>0 && conversation.map((message, index) => {\r\n      if(index>0){\r\n        return(\r\n      \r\n      \r\n      (\r\n    \r\n      <div className='mt-1' style={{display:'flex',flexDirection:'row',justifyContent:message.parqui==meid ?'flex-start': 'flex-end' }}>\r\n <div class=\"message-container\">\r\n  <div class=\"message\">\r\n    <p>{message.contenu}</p>\r\n    <div class=\"meta-data\">\r\n      <span class=\"time\">{message.time}</span>\r\n      <span class=\"seen\">{(message.etat==\"true\" && message.parqui!=userid) ? \"✓\":\"\"}</span>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n      \r\n        </div>\r\n         \r\n   ))\r\n      } })}\r\n    </div>\r\n    \r\n    <div class=\"input-container d-flex flex-row\">\r\n        <input value={msgg} type=\"text\" id=\"messageInput\" class=\"message-input\" onChange={e=>setmsg(e.target.value)} placeholder={props.interlo}/>\r\n        <button id=\"sendButton\" class=\"send-button\" onClick={()=>{addmsg(idwith)}}>Send</button>\r\n    </div>\r\n\r\n</div>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Conversation"],"mappings":";;AACA,OAAO,aAAa;AACpB,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,EAAEC,MAAM,QAAQ,OAAO;AACtE,SAASC,OAAO,EAAEC,IAAI,EAAEC,GAAG,EAAEC,GAAG,QAAO,mBAAmB;AAC1D,SAASC,EAAE,QAAQ,sBAAsB;AACzC,SAASC,YAAY,QAAQ,8BAA8B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAC5D,SAASC,YAAYA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAE3B,MAAM;IAAEC,KAAK;IAACC,OAAO;IAACC,UAAU;IAACC,MAAM;IAACC,SAAS;IAACC,MAAM;IAAEC,OAAO;IAACC,UAAU;IAACC,KAAK;IAACC;EAAO,CAAC,GAAGxB,UAAU,CAACO,YAAY,CAAC;EACtH,MAAM,CAACkB,IAAI,EAACC,MAAM,CAAC,GAAC5B,QAAQ,CAAC,EAAE,CAAC;EAChC,MAAM,CAAC6B,YAAY,EAACC,eAAe,CAAC,GAAC9B,QAAQ,CAAC,EAAE,CAAC;EAEjD,MAAM+B,WAAW,GAAEhC,KAAK,CAACI,MAAM,CAAC,KAAK,CAAC;EAEtC,MAAM,CAAC6B,KAAK,EAACC,QAAQ,CAAC,GAACjC,QAAQ,CAAC,EAAE,CAAC;EAIrC,IAAI,CAACkC,IAAI,EAACC,OAAO,CAAC,GAACnC,QAAQ,CAAC,EAAE,CAAC;EAS7B,MAAOoC,MAAM,GAAEC,EAAE,IAAG;IAEhB,MAAMC,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAE3C,IAAIC,SAAS,GAAC,EAAE;IAChB,IAAIC,UAAU,GAAC,EAAE;;IAEjB;;IAED,IAAIC,WAAW,GAAEX,KAAK,CAACY,GAAG,CAAEC,KAAK,IAAK;MAGvC,IAAGA,KAAK,CAACR,EAAE,IAAEC,IAAI,EAAC;QAEhB,IAAIF,MAAM,GAACS,KAAK,CAACC,UAAU,CAACF,GAAG,CAAC,CAACG,CAAC,EAACC,GAAG,KAAG;UAC9C,IAAGA,GAAG,GAAC,CAAC,EAAG;YACV;YACK,IAAGD,CAAC,CAACE,OAAO,CAACZ,EAAE,IAAEA,EAAE,EAAC;cAE3B,MAAMa,WAAW,GAAG,IAAIC,IAAI,CAAC,CAAC;;cAE9B;cACA,MAAMC,IAAI,GAAGF,WAAW,CAACG,WAAW,CAAC,CAAC;cACtC;cACA,MAAMC,KAAK,GAAG,CAAC,GAAG,IAAIJ,WAAW,CAACK,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,EAAEC,KAAK,CAAC,CAAC,CAAC,CAAC;cAC5D,MAAMC,GAAG,GAAG,CAAC,GAAG,GAAGP,WAAW,CAACQ,OAAO,CAAC,CAAC,EAAEF,KAAK,CAAC,CAAC,CAAC,CAAC;;cAEnD;cACA,MAAMG,aAAa,GAAI,GAAEP,IAAK,IAAGE,KAAM,IAAGG,GAAI,EAAC;cAC/C,MAAMG,KAAK,GAAG,CAAC,GAAG,GAAGV,WAAW,CAACW,QAAQ,CAAC,CAAC,EAAEL,KAAK,CAAC,CAAC,CAAC,CAAC;cACtD,MAAMM,OAAO,GAAG,CAAC,GAAG,GAAGZ,WAAW,CAACa,UAAU,CAAC,CAAC,EAAEP,KAAK,CAAC,CAAC,CAAC,CAAC;;cAE1D;cACA,MAAMQ,aAAa,GAAI,GAAEJ,KAAM,IAAGE,OAAQ,EAAC;cAErC,OAAO;gBAAC,GAAGf,CAAC;gBAACkB,GAAG,EAAC,CAAC,GAAGlB,CAAC,CAACkB,GAAG,EAAC;kBAACC,OAAO,EAACvC,IAAI;kBAACwC,MAAM,EAAC7B,IAAI;kBAAC8B,IAAI,EAACT,aAAa;kBAACU,IAAI,EAACL,aAAa;kBAACM,IAAI,EAAC;gBAAO,CAAC;cAAC,CAAC;YAEzG,CAAC,MACG;cACH,OAAOvB,CAAC;YACT;UACH;UAEJ,OAAOA,CAAC;QAEA,CAAC,CAAC;QAGP,OAAO;UAAE,GAAGF,KAAK;UAAEC,UAAU,EAACV;QAAM,CAAC;MACpC;MAIQ,OAAOS,KAAK;IAEd,CAAC,CAAC;IAEF0B,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;IACpDD,OAAO,CAACC,GAAG,CAAC7B,WAAW,CAAC;IAEpB,MAAM8B,WAAW,GAAGnE,GAAG,CAACE,EAAE,EAAE,OAAO,CAAC;IAEzCD,GAAG,CAACkE,WAAW,EAAC9B,WAAW,CAAC;IACvB,IAAI+B,YAAY,GAAE/B,WAAW,CAACC,GAAG,CAAEC,KAAK,IAAK;MAGzC,IAAGA,KAAK,CAACR,EAAE,IAAEA,EAAE,EAAC;QACd,IAAID,MAAM,GAACS,KAAK,CAACC,UAAU,CAACF,GAAG,CAAC,CAACG,CAAC,EAACC,GAAG,KAAG;UAC9C,IAAGA,GAAG,GAAC,CAAC,EAAG;YAEL,IAAGD,CAAC,CAACE,OAAO,CAACZ,EAAE,IAAEC,IAAI,EAAC;cACrB,MAAMY,WAAW,GAAG,IAAIC,IAAI,CAAC,CAAC;;cAE9B;cACA,MAAMC,IAAI,GAAGF,WAAW,CAACG,WAAW,CAAC,CAAC;cACtC;cACA,MAAMC,KAAK,GAAG,CAAC,GAAG,IAAIJ,WAAW,CAACK,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,EAAEC,KAAK,CAAC,CAAC,CAAC,CAAC;cAC5D,MAAMC,GAAG,GAAG,CAAC,GAAG,GAAGP,WAAW,CAACQ,OAAO,CAAC,CAAC,EAAEF,KAAK,CAAC,CAAC,CAAC,CAAC;;cAEnD;cACA,MAAMG,aAAa,GAAI,GAAEP,IAAK,IAAGE,KAAM,IAAGG,GAAI,EAAC;cAC/C,MAAMG,KAAK,GAAG,CAAC,GAAG,GAAGV,WAAW,CAACW,QAAQ,CAAC,CAAC,EAAEL,KAAK,CAAC,CAAC,CAAC,CAAC;cACtD,MAAMM,OAAO,GAAG,CAAC,GAAG,GAAGZ,WAAW,CAACa,UAAU,CAAC,CAAC,EAAEP,KAAK,CAAC,CAAC,CAAC,CAAC;cAC1D,MAAMQ,aAAa,GAAI,GAAEJ,KAAM,IAAGE,OAAQ,EAAC;cAE7C,OAAO;gBAAC,GAAGf,CAAC;gBAACkB,GAAG,EAAC,CAAC,GAAGlB,CAAC,CAACkB,GAAG,EAAC;kBAACC,OAAO,EAACvC,IAAI;kBAACwC,MAAM,EAAC7B,IAAI;kBAAC8B,IAAI,EAACT,aAAa;kBAACU,IAAI,EAACL,aAAa;kBAACM,IAAI,EAAC;gBAAO,CAAC;cAAC,CAAC;YAE9G,CAAC,MACO;cACD,OAAOvB,CAAC;YACX;UACC;UAEV,OAAOA,CAAC;QAGG,CAAC,CAAC;QAIP,OAAO;UAAE,GAAGF,KAAK;UAAEC,UAAU,EAACV;QAAM,CAAC;MACpC;MAIQ,OAAOS,KAAK;IAEd,CAAC,CAAC;IAEF,MAAM8B,YAAY,GAAGrE,GAAG,CAACE,EAAE,EAAE,OAAO,CAAC;IACzCD,GAAG,CAACoE,YAAY,EAACD,YAAY,CAAC;IAE9C9C,MAAM,CAAC,EAAE,CAAC;IACV2C,OAAO,CAACC,GAAG,CAACE,YAAY,CAAC;EAIrB,CAAC;EASDzE,SAAS,CAAC,MAAI;IAEd;;IAEI8B,WAAW,CAAC6C,OAAO,GAAG,IAAI;IACpB3C,QAAQ,CAAC4C,IAAI,IAAE,EAAE,CAAC;IAClBC,OAAO,CAAC,CAAC;IACTC,IAAI,CAAC,CAAC;IACN,MAAMC,MAAM,GAAIzC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAC9CL,OAAO,CAAC6C,MAAM,CAAC;;IAEvB;EAGF,CAAC,EAAC,CAACjE,KAAK,CAACkE,aAAa,CAAC,CAAC;;EAG5B;EACA,MAAMF,IAAI,GAAC,MAAAA,CAAA,KAAS;IAClB,MAAMzC,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAC3C+B,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;IAChDD,OAAO,CAACC,GAAG,CAAC9C,MAAM,GAAC,GAAG,GAACY,IAAI,CAAC;IAC5B,IAAIK,WAAW,GAAEX,KAAK,CAACY,GAAG,CAAEC,KAAK,IAAK;MACvC,IAAGA,KAAK,CAACR,EAAE,IAAEC,IAAI,EAAC;QACjBiC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;QACrB3B,KAAK,CAACC,UAAU,CAACF,GAAG,CAAC,CAACG,CAAC,EAACC,GAAG,KAAG;UAE/B,IAAGA,GAAG,GAAC,CAAC,EAAG;YACZuB,OAAO,CAACC,GAAG,CAACzB,CAAC,CAACE,OAAO,CAACZ,EAAE,CAAC;YACzB,IAAGU,CAAC,CAACE,OAAO,CAACZ,EAAE,IAAEX,MAAM,EAAC;cACtB6C,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;cAClBD,OAAO,CAACC,GAAG,CAACzB,CAAC,CAACkB,GAAG,CAAC;cACpBlB,CAAC,CAACkB,GAAG,CAACrB,GAAG,CAAC,CAACsC,CAAC,EAACC,KAAK,KAAG;gBACnBZ,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;gBACrBD,OAAO,CAACC,GAAG,CAACU,CAAC,CAACf,MAAM,GAAC,GAAG,GAAC7B,IAAI,CAAC;gBAChC,IAAG4C,CAAC,CAACf,MAAM,IAAE7B,IAAI,EAAC;kBAChB8C,KAAK,CAAC,UAAU,CAAC;kBACnB,OAAO,CAAC;gBACR;cAEA,CAAC,CAAC;YAAA;UACD;UACD,OAAOrC,CAAC;QACR,CAEA,CAAC;MAAA;MACD,OAAOF,KAAK;IACZ,CAAC,CAAC;IAEF,MAAM4B,WAAW,GAAGnE,GAAG,CAACE,EAAE,EAAE,OAAO,CAAC;IAGpC+D,OAAO,CAACC,GAAG,CAAC7B,WAAW,CAAC;IACxB;;IAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAgBA,CAAC;;EAQD;;EAEI,MAAMmC,OAAO,GAAC,MAAAA,CAAA,KAAS;IAC3BP,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IACb,MAAMlC,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAEzC,IAAI6C,OAAO,GAAC,EAAE;IAClB,IAAG/C,IAAI,IAAE,IAAI,EAAC;MAEZ,MAAMgD,KAAK,GAAGhF,GAAG,CAACE,EAAE,EAAG,OAAM,CAAC;MAG9B,IAAI+E,MAAM,GAAC,EAAE;MACb,IAAIC,MAAM,GAAC,EAAE;MAGb,OAAO,MAAMpF,OAAO,CAACkF,KAAK,EAAGG,QAAQ,IAAK;QACzCxD,QAAQ,CAAC,EAAE,CAAC;QAGbsC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;QAClB,MAAMkB,IAAI,GAAGD,QAAQ,CAACE,GAAG,CAAC,CAAC;QAE9B,IAAIC,QAAQ,GAAC,EAAE;QAMdC,MAAM,CAACC,MAAM,CAACJ,IAAI,CAAC,CAAC9C,GAAG,CAAEmD,CAAC,IAAG;UAGlC9D,QAAQ,CAAC4C,IAAI,IAAE,CAAC,GAAGA,IAAI,EAACkB,CAAC,CAAC,CAAC;UAG3B,IAAGA,CAAC,CAAC1D,EAAE,IAAEC,IAAI,EAAC;YACfyD,CAAC,CAACjD,UAAU,CAACF,GAAG,CAAC,CAACoD,CAAC,EAAChD,GAAG,KAAG;cAE1B,IAAGA,GAAG,GAAC,CAAC,EAAC;gBAGR;gBACD,IAAGgD,CAAC,CAAC/C,OAAO,CAACZ,EAAE,IAAEE,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAC;kBAE7CgD,MAAM,GAACQ,CAAC,CAAC/B,GAAG;gBACb;cAAC;YAED,CAAC,CAAC;YAGFM,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;YACzCD,OAAO,CAACC,GAAG,CAACgB,MAAM,CAAC;YACnB1D,eAAe,CAAC0D,MAAM,CAAC;UAEvB;QAAC,CAGD,CAAC;MAAA,CAID,CAAC;IAIK;;IAEF;EAAwB,CAAC;EAK3B,oBACE7E,OAAA,CAAAE,SAAA;IAAAoF,QAAA,eACDtF,OAAA;MAAKuF,KAAK,EAAC,oBAAoB;MAAAD,QAAA,gBAC/BtF,OAAA;QAAKuF,KAAK,EAAC,oBAAoB;QAAAD,QAAA,gBACzBtF,OAAA;UAAKwF,GAAG,EAAEpF,KAAK,CAACqF;QAAa;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAChC7F,OAAA;UAAAsF,QAAA,GAAI,GAAC,EAAClF,KAAK,CAACkE,aAAa,EAAC,IAAE;QAAA;UAAAoB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACjC7F,OAAA;UAAAsF,QAAA,GAAI,GAAC,EAAClF,KAAK,CAAC0F,SAAS,EAAC,IAAE;QAAA;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzB,CAAC,eACV7F,OAAA;QAAKuF,KAAK,EAAC,WAAW;QAAC7D,EAAE,EAAC,UAAU;QAAA4D,QAAA,EAEnCpE,YAAY,CAAC6E,MAAM,GAAC,CAAC,IAAI7E,YAAY,CAACe,GAAG,CAAC,CAAC+D,OAAO,EAAExB,KAAK,KAAK;UAC7D,IAAGA,KAAK,GAAC,CAAC,EAAC;YACT,oBAKFxE,OAAA;cAAKiG,SAAS,EAAC,MAAM;cAACC,KAAK,EAAE;gBAACC,OAAO,EAAC,MAAM;gBAACC,aAAa,EAAC,KAAK;gBAACC,cAAc,EAACL,OAAO,CAACxC,MAAM,IAAEjC,IAAI,GAAE,YAAY,GAAE;cAAW,CAAE;cAAA+D,QAAA,eACtItF,OAAA;gBAAKuF,KAAK,EAAC,mBAAmB;gBAAAD,QAAA,eAC7BtF,OAAA;kBAAKuF,KAAK,EAAC,SAAS;kBAAAD,QAAA,gBAClBtF,OAAA;oBAAAsF,QAAA,EAAIU,OAAO,CAACzC;kBAAO;oBAAAmC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACxB7F,OAAA;oBAAKuF,KAAK,EAAC,WAAW;oBAAAD,QAAA,gBACpBtF,OAAA;sBAAMuF,KAAK,EAAC,MAAM;sBAAAD,QAAA,EAAEU,OAAO,CAACtC;oBAAI;sBAAAgC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC,eACxC7F,OAAA;sBAAMuF,KAAK,EAAC,MAAM;sBAAAD,QAAA,EAAGU,OAAO,CAACrC,IAAI,IAAE,MAAM,IAAIqC,OAAO,CAACxC,MAAM,IAAE7C,MAAM,GAAI,GAAG,GAAC;oBAAE;sBAAA+E,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAClF,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAKO,CAAC;UAGR;QAAE,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eAEN7F,OAAA;QAAKuF,KAAK,EAAC,iCAAiC;QAAAD,QAAA,gBACxCtF,OAAA;UAAOsG,KAAK,EAAEtF,IAAK;UAACuF,IAAI,EAAC,MAAM;UAAC7E,EAAE,EAAC,cAAc;UAAC6D,KAAK,EAAC,eAAe;UAACiB,QAAQ,EAAEC,CAAC,IAAExF,MAAM,CAACwF,CAAC,CAACC,MAAM,CAACJ,KAAK,CAAE;UAACK,WAAW,EAAEvG,KAAK,CAACwG;QAAQ;UAAAlB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC,eAC1I7F,OAAA;UAAQ0B,EAAE,EAAC,YAAY;UAAC6D,KAAK,EAAC,aAAa;UAACsB,OAAO,EAAEA,CAAA,KAAI;YAACpF,MAAM,CAACV,MAAM,CAAC;UAAA,CAAE;UAAAuE,QAAA,EAAC;QAAI;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEL;EAAC,gBAEA,CAAC;AAEP;AAACxF,EAAA,CAvWQF,YAAY;AAAA2G,EAAA,GAAZ3G,YAAY;AAyWrB,eAAeA,YAAY;AAAA,IAAA2G,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}